{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","ACTION","CLEARCART","cart","REMOVECART","filter","itemCart","id","payload","INCREASE","tempCart","map","cartItem","amount","DECREASE","temp","TOTAL","reduce","cartTotal","price","itemTotal","total","parseFloat","toFixed","LOADING","loading","DISPLAY","TOGGLE_AMOUNT","tmpCartt","peyload","Error","AppContext","React","createContext","iniTialStates","title","img","AppProvider","children","useReducer","dispatch","fetchItems","a","fetch","response","json","useEffect","Provider","value","clearCart","removeCart","increaseCart","decreaseCart","toggleAmount","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","item","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e1ea621f.chunk.js","sourcesContent":["import { ACTION } from \"./context\";\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case ACTION.CLEARCART:\r\n      return { ...state, cart: [] };\r\n    case ACTION.REMOVECART:\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter((itemCart) => itemCart.id !== action.payload),\r\n      };\r\n    case ACTION.INCREASE:\r\n      let tempCart = state.cart.map((cartItem) => {\r\n        if (cartItem.id === action.payload) {\r\n          return { ...cartItem, amount: cartItem.amount + 1 };\r\n        }\r\n        return cartItem;\r\n      });\r\n      return { ...state, cart: tempCart };\r\n\r\n    case ACTION.DECREASE:\r\n      let temp = state.cart\r\n        .map((cartItem) => {\r\n          if (cartItem.id === action.payload) {\r\n            return { ...cartItem, amount: cartItem.amount - 1 };\r\n          }\r\n          return cartItem;\r\n        })\r\n        .filter((cartItem) => cartItem.amount !== 0);\r\n      return { ...state, cart: temp };\r\n\r\n    case ACTION.TOTAL:\r\n      let { total, amount } = state.cart.reduce(\r\n        (cartTotal, cartItem) => {\r\n          const { price, amount } = cartItem;\r\n          const itemTotal = price * amount;\r\n\r\n          cartTotal.total += itemTotal;\r\n\r\n          cartTotal.amount += amount;\r\n          return cartTotal;\r\n        },\r\n        {\r\n          total: 0,\r\n          amount: 0,\r\n        }\r\n      );\r\n\r\n      total = parseFloat(total.toFixed(2));\r\n\r\n      return { ...state, total, amount };\r\n\r\n    case ACTION.LOADING:\r\n      return { ...state, loading: true };\r\n\r\n    case ACTION.DISPLAY:\r\n      return { ...state, cart: action.payload, loading: false };\r\n\r\n    case ACTION.TOGGLE_AMOUNT:\r\n      let tmpCartt = state.cart\r\n        .map((cartItem) => {\r\n          if (cartItem.id === action.peyload.id) {\r\n            if (action.peyload.type === \"inc\") {\r\n              return { ...cartItem, amount: cartItem.amount + 1 };\r\n            }\r\n            if (action.peyload.type === \"dec\") {\r\n              return { ...cartItem, amount: cartItem.amount - 1 };\r\n            }\r\n          }\r\n          return cartItem;\r\n        })\r\n        .filter((cartItem) => cartItem.amount !== 0);\r\n      return { ...state, cart: tmpCartt };\r\n\r\n    default:\r\n      throw new Error ('no matching action type')\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React, { useState, useContext, useReducer, useEffect } from 'react'\nimport cartItems from './data'\nimport reducer from './reducer'\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = 'https://course-api.com/react-useReducer-cart-project'\nconst AppContext = React.createContext()\n\nconst iniTialStates={\n  loading:false,\n  cart:cartItems,\n  total:0,\n  amount:0\n}\n\nexport const ACTION ={\n  CLEARCART: \"clear-cart\",\n  REMOVECART:\"remove-cart\",\n  INCREASE: 'increase',\n  DECREASE: 'decrease',\n  TOTAL: 'total',\n  LOADING:'loading',\n  DISPLAY:'display',\n  TOGGLE_AMOUNT:'toggle-amount'\n}\n\n\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer,iniTialStates)\n\n  const clearCart=()=>{\n    dispatch({type:ACTION.CLEARCART})\n  }\n  const removeCart=(id)=>{\n    dispatch({type:ACTION.REMOVECART,payload:id})\n  }\n\n  const increaseCart =(id)=>{\n    dispatch({type:ACTION.INCREASE,payload:id})\n  }\n  const decreaseCart =(id)=>{\n    dispatch({type:ACTION.DECREASE,payload:id})\n  }\n  const fetchItems =async()=>{\n    dispatch({type:ACTION.LOADING})\n    const response = await fetch(url);\n    const cart =await response.json();\n    dispatch({type:ACTION.DISPLAY,payload:cart})\n\n  }\n\n  const toggleAmount =(id,type)=>{\n    dispatch({type:ACTION.TOGGLE_AMOUNT,peyload:{id , type}})\n  }\n\n  useEffect(()=>{\n    fetchItems();\n  },[])\n  useEffect(()=>{\n    dispatch({type:ACTION.TOTAL})\n  },[state.cart])\n  \n\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        clearCart,\n        removeCart,\n        increaseCart,\n        decreaseCart,\n        toggleAmount\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  )\n}\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext)\n}\n\nexport { AppContext, AppProvider }\n","export default [\n  {\n    id: 1,\n    title: 'Samsung Galaxy S7',\n    price: 599.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\n    amount: 1,\n  },\n  {\n    id: 2,\n    title: 'google pixel ',\n    price: 499.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\n    amount: 1,\n  },\n  {\n    id: 3,\n    title: 'Xiaomi Redmi Note 2',\n    price: 699.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\n    amount: 1,\n  },\n];\n","import React from 'react'\nimport { useGlobalContext } from './context'\nconst Navbar = () => {\n  const {amount} = useGlobalContext()\n  return (\n    <nav>\n      <div className='nav-center'>\n        <h3>useReducer</h3>\n        <div className='nav-container'>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\n          </svg>\n          <div className='amount-container'>\n            <p className='total-amount'>{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar\n","import React from 'react'\nimport { useGlobalContext } from './context'\nconst CartItem = ({ id, img, title, price, amount }) => {\n  const {removeCart,increaseCart,decreaseCart,toggleAmount}=useGlobalContext()\n  return (\n    <article className='cart-item'>\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className='item-price'>${price}</h4>\n        {/* remove button */}\n        <button\n          className='remove-btn'\n          onClick={() => removeCart(id)}\n        >\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button className='amount-btn' onClick={() => toggleAmount(id,\"inc\")}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className='amount'>{amount}</p>\n        {/* decrease amount */}\n        <button className='amount-btn' onClick={() => toggleAmount(id,\"dec\")}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\n          </svg>\n        </button>\n      </div>\n    </article>\n  )\n}\n\nexport default CartItem\n","import React from 'react'\nimport CartItem from './CartItem'\nimport { useGlobalContext } from './context'\n\nconst CartContainer = () => {\n  const { cart,total,clearCart } = useGlobalContext()\n  if (cart.length === 0) {\n    return (\n      <section className='cart'>\n        {/* cart header */}\n        <header>\n          <h3>your bag</h3>\n          <h4 className='empty-cart'>is currently empty</h4>\n        </header>\n      </section>\n    )\n  }\n  return (\n    <section className='cart'>\n      {/* cart header */}\n      <header>\n        <h2>your Items</h2>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map((item) => {\n          return <CartItem key={item.id} {...item} />\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className='cart-total'>\n          <h4>\n            total <span>${total}</span>\n          </h4>\n        </div>\n        <button\n          className='btn clear-btn'\n          onClick={clearCart}\n        >\n          clear cart\n        </button>\n      </footer>\n    </section>\n  )\n}\n\nexport default CartContainer\n","import React from 'react'\nimport { useGlobalContext } from './context'\n\n// components\nimport Navbar from './Navbar'\nimport CartContainer from './CartContainer'\n// items\n\nfunction App() {\n  const {loading}=useGlobalContext();\n  if (loading) {\n    return (\n      <div className='loading'>\n        <h1>Loading...</h1>\n      </div>\n    )\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}